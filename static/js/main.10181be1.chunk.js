(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,t,a){e.exports=a(241)},124:function(e,t,a){},125:function(e,t,a){},128:function(e,t,a){},130:function(e,t,a){},136:function(e,t){},138:function(e,t){},241:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(94),o=a.n(l),c=(a(123),a(124),a(125),a(35)),i=a(36),s=a(39),m=a(37),u=a(40),p=a(116),g=(a(128),a(19)),h=a.n(g),d=a(41),f=a(58),E=(a(130),a(20)),b=a(112),v=a(113),k=a.n(v),y=a(57),N=a(114),x=a.n(N),C=(a(240),{PNG:E.a.MIME_PNG,JPG:E.a.MIME_JPEG,BMP:E.a.MIME_BMP}),I=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){a.process()},a.handleNext=function(){a.setImageFilterState({index:Math.min(a.state.index+1,a.state.files.length-1)})},a.handlePrevious=function(){a.setImageFilterState({index:Math.max(a.state.index-1,0)})},a.readAsArrayBuffer=function(e){return new Promise(function(t,a){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.readAsArrayBuffer(e)})},a.onWorkerMessage=function(e){var t=e.data;"FINAL"===t.type?a.handleWebWorkerFinalSaveResult({data:t}):"PREVIEW"===t.type?a.setState(Object(f.a)({},t,{loading:!1})):"PROGRESS"===t.type&&a.setState({progress:t.payload})},a.process=function(e,t,a){var n;return function(){var r=this,l=arguments,o=a&&!n;clearTimeout(n),n=setTimeout(function(){n=null,a||e.apply(r,l)},t),o&&e.apply(r,l)}}(Object(d.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({loading:!0}),a.worker.postMessage({state:a.state,type:"PREVIEW"});case 2:case"end":return e.stop()}},e)})),500),a.save=function(){var e=Object(d.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.imageRef){e.next=2;break}return e.abrupt("return");case 2:n=a.imageRef.naturalWidth/a.imageRef.clientWidth,a.setState({loading:!0}),a.worker.postMessage({state:a.state,ratio:n,type:"FINAL"});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleWebWorkerFinalSaveResult=function(){var e=Object(d.a)(h.a.mark(function e(t){var n,r,l,o,c;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.data,r=n.prodData,l=a.state.quality,!window.imagemin){e.next=10;break}return e.next=6,window.imagemin(r,l);case 6:c=e.sent,o=new Blob([c]),e.next=11;break;case 10:o=new Blob([r]);case 11:Object(b.saveAs)(o,a.state.files[a.state.index].name),a.setState({loading:!1});case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.setImageFilterState=function(e){a.setState(Object(f.a)({},e),a.process)},a.onImageLoaded=function(e,t){a.imageRef=e},a.onCropComplete=function(e){a.setState({crop:e})},a.onCropChange=function(e){a.setState({crop:e})};var n=C[(e.files[0].name.split(".").slice(-1)[0]||"").toUpperCase()];return a.state={files:e.files,mime:n,loading:!1,crop:{},index:0},a.worker=new window.Worker("jimp-worker.js"),a.worker.onmessage=a.onWorkerMessage,a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"imglogic"},r.a.createElement("div",{className:"panel"},r.a.createElement("div",{className:"heading"},"Filters"),"File:",r.a.createElement("br",null),r.a.createElement("div",{className:"checkbox"},r.a.createElement("label",null,r.a.createElement("input",{onChange:function(t){return e.setImageFilterState({greyscale:t.target.checked})},type:"checkbox"})," Greyscale")),r.a.createElement("button",{style:{opacity:void 0===this.state.crop.x?.5:1},disabled:void 0===this.state.crop.x,onClick:function(){return e.setImageFilterState({crop:{}})},className:"btn btn-large btn-primary"},"Remove Crop")," ",void 0!==this.state.crop.x&&r.a.createElement("span",null,"Crop: ",Math.round(this.state.crop.x),",",Math.round(this.state.crop.y)," - ",Math.round(this.state.crop.width),"x",Math.round(this.state.crop.height))||null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"checkbox"},r.a.createElement("label",null,r.a.createElement("input",{onChange:function(t){return e.setImageFilterState({crop:{},resize:t.target.checked})},type:"checkbox"})," Resize")),r.a.createElement("input",{onChange:function(t){return e.setImageFilterState({crop:{},resizeX:+t.target.value})},style:{width:100},type:"number",step:"0",min:"1",className:"form-control",placeholder:"pixel width"})," ","X"," ",r.a.createElement("input",{onChange:function(t){return e.setImageFilterState({crop:{},resizeY:+t.target.value})},style:{width:100},type:"number",step:"0",min:"1",className:"form-control",placeholder:"pixel height"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"JPEG/PNG Quality"),r.a.createElement("input",{onChange:function(t){return e.setImageFilterState({quality:+t.target.value})},type:"number",step:"0",min:"1",max:"100",className:"form-control",placeholder:"A value from 0-100"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Rotatation in degress (0-360)"),r.a.createElement("input",{onChange:function(t){return e.setImageFilterState({rotation:+t.target.value})},type:"number",step:"0",min:"0",max:"360",className:"form-control",placeholder:"A value from 0-360"})),r.a.createElement("div",{className:"checkbox"},r.a.createElement("label",null,r.a.createElement("input",{onChange:function(t){return e.setImageFilterState({rotationResize:!t.target.checked})},type:"checkbox"})," Don't resize after rotation")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Brightness"),r.a.createElement("input",{onChange:function(t){return e.setImageFilterState({brightness:+t.target.value})},type:"number",step:"0.01",min:"-1",max:"1",className:"form-control",placeholder:"A value from -1 to 1"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Contrast"),r.a.createElement("input",{onChange:function(t){return e.setImageFilterState({contrast:+t.target.value})},type:"number",step:"0.01",min:"-1",max:"1",className:"form-control",placeholder:"A value from -1 to 1"})),r.a.createElement("div",{className:"checkbox"},r.a.createElement("label",null,r.a.createElement("input",{onChange:function(t){return e.setImageFilterState({background:t.target.checked})},type:"checkbox"})," ","Color ",r.a.createElement("input",{type:"color",onChange:function(t){return e.setImageFilterState({backgroundColor:t.target.value})}}))),r.a.createElement("div",{className:"checkbox"},r.a.createElement("label",null,r.a.createElement("input",{onChange:function(t){return e.setImageFilterState({opaque:t.target.checked})},type:"checkbox"})," Opaque")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Fade"),r.a.createElement("input",{defaultValue:"0",onChange:function(t){return e.setImageFilterState({fade:+t.target.value})},type:"number",step:"0.01",min:"0",max:"1",className:"form-control",placeholder:"A value from 0 to 1"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Opacity"),r.a.createElement("input",{defaultValue:"1",onChange:function(t){return e.setImageFilterState({opacity:+t.target.value})},type:"number",step:"0.01",min:"0",max:"1",className:"form-control",placeholder:"A value from 0 to 1"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Blur"),r.a.createElement("input",{onChange:function(t){return e.setImageFilterState({blur:+t.target.value})},type:"number",step:"1",min:"0",className:"form-control",placeholder:"The blur radius in pixels"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Posterize"),r.a.createElement("input",{onChange:function(t){return e.setImageFilterState({posterize:+t.target.value})},type:"number",step:"1",min:"0",className:"form-control"})),r.a.createElement("div",{className:"checkbox"},r.a.createElement("label",null,r.a.createElement("input",{onChange:function(t){return e.setImageFilterState({sepia:t.target.checked})},type:"checkbox"})," Sepia")),"Mirror:",r.a.createElement("br",null),r.a.createElement("select",{onChange:function(t){return e.setImageFilterState({mirror:t.target.value})},className:"form-control"},r.a.createElement("option",{value:!1},"Don't mirror"),r.a.createElement("option",{value:"horizontal"},"Horizonal"),r.a.createElement("option",{value:"vertical"},"Vertical")),r.a.createElement("div",{className:"checkbox"},r.a.createElement("label",null,r.a.createElement("input",{onChange:function(t){return e.setImageFilterState({invert:t.target.checked})},type:"checkbox"})," Invert")),r.a.createElement("div",{className:"checkbox"},r.a.createElement("label",null,r.a.createElement("input",{onChange:function(t){return e.setImageFilterState({normalize:t.target.checked})},type:"checkbox"})," Normalize")),r.a.createElement("select",{defaultValue:this.state.mime,className:"form-control",onChange:function(t){return e.setImageFilterState({mime:t.target.value})}},r.a.createElement("option",{value:E.a.MIME_PNG},"PNG"),r.a.createElement("option",{value:E.a.MIME_JPEG},"JPG"),r.a.createElement("option",{value:E.a.MIME_BMP},"BMP")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.save,className:"btn btn-large btn-primary"},"Save")," ",r.a.createElement("button",{onClick:this.props.onBack,className:"btn btn-large btn-warning"},"Back"),r.a.createElement("br",null),r.a.createElement("br",null),this.state.blob&&k()(this.state.blob.size),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"bounce-loader"},r.a.createElement(y.BounceLoader,{size:150,color:"#7edc91",loading:this.state.loading,margin:"2px auto"}))),r.a.createElement("div",{className:"image"},r.a.createElement("div",{style:{display:this.state.index>0?"block":"none"},onClick:this.handlePrevious,className:"left icon icon-left-open-big"}),r.a.createElement("div",{style:{display:this.state.index<this.state.files.length-1?"block":"none"},onClick:this.handleNext,className:"right icon icon-right-open-big"}),r.a.createElement("div",{className:"image-innner"},this.state.blobUrl&&r.a.createElement(x.a,{src:this.state.blobUrl,crop:this.state.crop,onImageLoaded:this.onImageLoaded,onComplete:this.onCropComplete,onChange:this.onCropChange})||r.a.createElement("div",{style:{width:200,height:200}}),r.a.createElement("div",{className:"bounce-loader "+(this.state.loading?"loading":"")},r.a.createElement(y.BounceLoader,{size:150,color:"#7edc91",loading:this.state.loading,margin:"2px auto"}),r.a.createElement("p",null,this.state.progress)))))}}]),t}(n.Component);var S=a(115),w=a.n(S),F=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).onDrop=function(t){e.setState({files:t})},e.state={files:[]},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return this.state.files.length>0?r.a.createElement(I,{onBack:function(){return e.setState({files:[]})},files:this.state.files}):r.a.createElement("div",null,r.a.createElement("h1",{className:"app-title"},"Fancy"),r.a.createElement("section",{className:"container"},r.a.createElement(p.a,{accept:"image/*",onDrop:this.onDrop},function(e){var t=e.getRootProps,a=e.getInputProps,n=e.isDragActive;return r.a.createElement("div",t({className:w()({dropzone:!0,active:n})}),r.a.createElement("input",a()),r.a.createElement("span",{className:"icon icon-upload"}),r.a.createElement("p",null,"Drag 'n' drop some fancy image."))})))}}]),t}(n.Component);var M=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(F,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[118,1,2]]]);
//# sourceMappingURL=main.10181be1.chunk.js.map